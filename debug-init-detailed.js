import { WebsiteContext } from "./src/contexts/website/websiteContext"; import { DeploymentManagerFactory } from "./src/contexts/website/services/deployment/deploymentManager"; WebsiteContext.resetInstance(); DeploymentManagerFactory.resetInstance(); const context = WebsiteContext.getInstance(); async function test() { await context.initialize(); console.log("Context initialized"); const config = await context.getConfig(); console.log("Website config deployment type:", config.deployment.type); const factory = DeploymentManagerFactory.getInstance(); console.log("DeploymentManagerFactory created"); const managerFromFactory = factory.create({ deploymentType: config.deployment.type }); console.log("Factory created deployment manager type:", managerFromFactory.constructor.name); const deploymentManager = await context.getDeploymentManager(); console.log("WebsiteContext.getDeploymentManager() type:", deploymentManager.constructor.name); } test();
